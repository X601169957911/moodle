define(["jquery","core/notification","block_starredcourses/repository","core/paged_content_factory","core/templates"],function(a,b,c,d,e){var f={STARRED_COURSES_REGION_VIEW:'[data-region="starred-courses-view"]',STARRED_COURSES_REGION:'[data-region="starred-courses-view-content"]'},g=5,h=function(b,c){if(c.length>0)return e.render("block_starredcourses/view-cards",{courses:c});var d=a(f.STARRED_COURSES_REGION_VIEW).attr("data-nocoursesimg");return e.render("block_starredcourses/no-courses",{nocoursesimg:d})},i=function(a,i){var j=a.find(f.STARRED_COURSES_REGION);d.createWithLimit(g,function(b,d){var e=[];return b.forEach(function(b){var f={limit:g,offset:b.offset,userid:i},j=c.getStarredCourses(f).then(function(c){return c.length>0?h(a,c):(d.allItemsLoaded(b.pageNumber),h(a,c))});e.push(j)}),e}).then(function(a,b){return e.replaceNodeContents(j,a,b)})["catch"](b.exception)},j=function(b,c){var d=a("body");d.on("myoverview-events:course_starred",function(){i(b,c)}),d.on("myoverview-events:course_unstarred",function(){i(b,c)})},k=function(b){b=a(b);var c=b.data("userid");j(b,c),i(b,c)};return{init:k}});