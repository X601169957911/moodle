define ("core/edit_switch",["exports","core/ajax"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var c=function(a){var c=b.default.call([{methodname:"core_change_editmode",args:a}])[0].fail(Notification.exception);return c},d=function(a){if(a.checked){a.setAttribute("aria-checked",!0)}else{a.setAttribute("aria-checked",!1)}location.reload()};a.init=function init(){var a=document.getElementById("editingswitch");a.addEventListener("change",function(){c({setmode:a.checked,context:a.dataset.context}).then(function(b){if(b.success){d(a);a.dispatchEvent(new CustomEvent("change-edit-mode",{bubbles:!0,setmode:a.checked}))}else{a.checked=!1}return null}).catch(Notification.exception)})}});
//# sourceMappingURL=edit_switch.min.js.map
