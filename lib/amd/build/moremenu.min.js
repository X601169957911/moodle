function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("core/moremenu",["exports","core/utils","core/pubsub"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;c=e(c);function d(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;d=function(){return a};return a}function e(a){if(a&&a.__esModule){return a}if(null===a||"object"!==_typeof(a)&&"function"!=typeof a){return{default:a}}var b=d();if(b&&b.has(a)){return b.get(a)}var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a){if(Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;if(g&&(g.get||g.set)){Object.defineProperty(c,f,g)}else{c[f]=a[f]}}}c.default=a;if(b){b.set(a,c)}return c}var f={regions:{moredropdown:"[data-region=\"moredropdown\"]"},classes:{nav:"nav",navlink:"nav-link",dropdownitem:"dropdown-item",dropdownmoremenu:"dropdownmoremenu",observed:"observed",hidden:"d-none"}},g=function(a){var c=a.offsetHeight,d=a.parentNode.offsetHeight;if(768>window.outerWidth){c=d}var h=a.querySelector(f.regions.moredropdown),i=a.querySelector("."+f.classes.dropdownmoremenu);if(c>d){i.classList.remove(f.classes.hidden);if("children"in a){var j=Array.from(a.children).reverse();j.forEach(function(c){if(!c.classList.contains(f.classes.dropdownmoremenu)){if(a.offsetHeight>d){var e=a.removeChild(c),g=e.querySelector("."+f.classes.navlink);if(g&&!g.hasAttribute("role")){g.setAttribute("role","menuitem")}(0,b.classUtil)("replace",g,f.classes.navlink,f.classes.dropdownitem);h.prepend(e)}}})}}else{i.classList.add(f.classes.hidden);if("children"in h){var k=Array.from(h.children);k.forEach(function(c){if(992>window.outerWidth||a.offsetHeight<d){var e=h.removeChild(c),g=e.querySelector("."+f.classes.dropdownitem);if(g){var j=g.getAttribute("role");if("menuitem"==j){g.removeAttribute("role")}}(0,b.classUtil)("replace",g,f.classes.dropdownitem,f.classes.navlink);a.insertBefore(e,i)}})}if(768<window.outerWidth){c=a.offsetHeight;if(c>d){g(a)}}}h.addEventListener("click",function(a){if(a.target.classList.contains("dropdown-toggle")){a.stopPropagation();var c=h.querySelectorAll(".dropdown-menu .dropdown-menu");c.forEach(function(a){(0,b.classUtil)("remove",a,"showinmoremenu")});var d=document.getElementById(a.target.getAttribute("aria-controls"));(0,b.classUtil)("toggle",d,"showinmoremenu")}});(0,b.classUtil)("add",a.parentNode,f.classes.observed)},h=function(a){g(a);window.addEventListener("resize",function(){g(a)});c.subscribe("show-drawer",function(){g(a)})};a.default={init:h};return a.default});
//# sourceMappingURL=moremenu.min.js.map
