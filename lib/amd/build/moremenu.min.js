define ("core/moremenu",["exports","core/utils"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;var c={regions:{moredropdown:"[data-region=\"moredropdown\"]"},classes:{dropdownitem:"dropdown-item",dropdownmoremenu:"dropdownmoremenu",dropdowntoggle:"dropdown-toggle",hidden:"d-none",active:"active",nav:"nav",navlink:"nav-link",observed:"observed"}},d=function(a){var e=a.parentNode.offsetHeight+1,f=a.querySelector(c.regions.moredropdown),g=a.querySelector("."+c.classes.dropdownmoremenu),h=a.querySelector("."+c.classes.dropdowntoggle);if(a.offsetHeight>e||6<a.children.length){g.classList.remove(c.classes.hidden);var i=Array.from(a.children).reverse();i.forEach(function(d){if(!d.classList.contains(c.classes.dropdownmoremenu)){if(a.offsetHeight>e||6<a.children.length){var g=a.removeChild(d),i=g.querySelector("."+c.classes.navlink);if(i&&!i.hasAttribute("role")){i.setAttribute("role","menuitem")}if(i.classList.contains(c.classes.active)){h.classList.add(c.classes.active)}(0,b.classUtil)("replace",i,c.classes.navlink,c.classes.dropdownitem);f.prepend(g)}}})}else{g.classList.add(c.classes.hidden);h.classList.remove(c.classes.active);if("children"in f){var j=Array.from(f.children);j.forEach(function(d){if(a.offsetHeight<e){var h=f.removeChild(d),i=h.querySelector("."+c.classes.dropdownitem);if(i){var j=i.getAttribute("role");if("menuitem"===j){i.removeAttribute("role")}}(0,b.classUtil)("replace",i,c.classes.dropdownitem,c.classes.navlink);a.insertBefore(h,g)}})}if(a.offsetHeight>e){d(a)}}(0,b.classUtil)("add",a.parentNode,c.classes.observed)};a.default=function(a){d(a);window.addEventListener("resize",function(){d(a)});document.addEventListener("show-boost-drawer",function(){setTimeout(function(){d(a)},200)})};return a.default});
//# sourceMappingURL=moremenu.min.js.map
