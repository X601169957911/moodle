define(["exports","jquery","./util"],function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(t),d=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f,c,u,h,a,_,m,v,y,g,E,I,p,T,A,C,b,D,S,k,x,O,w=(f=n.default,c="carousel",h=".".concat(u="bs.carousel"),a=".data-api",_=f.fn[c],m={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},v={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},y="next",g="prev",E="left",I="right",p={SLIDE:"slide".concat(h),SLID:"slid".concat(h),KEYDOWN:"keydown".concat(h),MOUSEENTER:"mouseenter".concat(h),MOUSELEAVE:"mouseleave".concat(h),TOUCHEND:"touchend".concat(h),LOAD_DATA_API:"load".concat(h).concat(a),CLICK_DATA_API:"click".concat(h).concat(a)},T="carousel",A="active",C="slide",b="carousel-item-right",D="carousel-item-left",S="carousel-item-next",k="carousel-item-prev",x={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},O=function(){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(t),this._element=f(e)[0],this._indicatorsElement=f(this._element).find(x.INDICATORS)[0],this._addEventListeners()}var e,t,i;return e=a,i=[{key:"_jQueryInterface",value:function(n){return this.each(function(){var e=f(this).data(u),t=r({},m,f(this).data());"object"===l(n)&&(t=r({},t,n));var i="string"==typeof n?n:t.slide;if(e||(e=new a(this,t),f(this).data(u,e)),"number"==typeof n)e.to(n);else if("string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'.concat(i,'"'));e[i]()}else t.interval&&(e.pause(),e.cycle())})}},{key:"_dataApiClickHandler",value:function(e){var t=d.default.getSelectorFromElement(this);if(t){var i=f(t)[0];if(i&&f(i).hasClass(T)){var n=r({},f(i).data(),f(this).data()),s=this.getAttribute("data-slide-to");s&&(n.interval=!1),a._jQueryInterface.call(f(i),n),s&&f(i).data(u).to(s),e.preventDefault()}}}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return m}}],(t=[{key:"next",value:function(){this._isSliding||this._slide(y)}},{key:"nextWhenVisible",value:function(){!document.hidden&&f(this._element).is(":visible")&&"hidden"!==f(this._element).css("visibility")&&this.next()}},{key:"prev",value:function(){this._isSliding||this._slide(g)}},{key:"pause",value:function(e){e||(this._isPaused=!0),f(this._element).find(x.NEXT_PREV)[0]&&d.default.supportsTransitionEnd()&&(d.default.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(e){var t=this;this._activeElement=f(this._element).find(x.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)f(this._element).one(p.SLID,function(){return t.to(e)});else{if(i===e)return this.pause(),void this.cycle();var n=i<e?y:g;this._slide(n,this._items[e])}}},{key:"dispose",value:function(){f(this._element).off(h),f.removeData(this._element,u),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}},{key:"_getConfig",value:function(e){return e=r({},m,e),d.default.typeCheckConfig(c,e,v),e}},{key:"_addEventListeners",value:function(){var t=this;this._config.keyboard&&f(this._element).on(p.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(f(this._element).on(p.MOUSEENTER,function(e){return t.pause(e)}).on(p.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&f(this._element).on(p.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}}},{key:"_getItemIndex",value:function(e){return this._items=f.makeArray(f(e).parent().find(x.ITEM)),this._items.indexOf(e)}},{key:"_getItemByDirection",value:function(e,t){var i=e===y,n=e===g,s=this._getItemIndex(t),a=this._items.length-1;if((n&&0===s||i&&s===a)&&!this._config.wrap)return t;var l=(s+(e===g?-1:1))%this._items.length;return-1===l?this._items[this._items.length-1]:this._items[l]}},{key:"_triggerSlideEvent",value:function(e,t){var i=this._getItemIndex(e),n=this._getItemIndex(f(this._element).find(x.ACTIVE_ITEM)[0]),s=f.Event(p.SLIDE,{relatedTarget:e,direction:t,from:n,to:i});return f(this._element).trigger(s),s}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){f(this._indicatorsElement).find(x.ACTIVE).removeClass(A);var t=this._indicatorsElement.children[this._getItemIndex(e)];t&&f(t).addClass(A)}}},{key:"_slide",value:function(e,t){var i,n,s,a=this,l=f(this._element).find(x.ACTIVE_ITEM)[0],r=this._getItemIndex(l),o=t||l&&this._getItemByDirection(e,l),c=this._getItemIndex(o),u=Boolean(this._interval);if(e===y?(i=D,n=S,s=E):(i=b,n=k,s=I),o&&f(o).hasClass(A))this._isSliding=!1;else if(!this._triggerSlideEvent(o,s).isDefaultPrevented()&&l&&o){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(o);var h=f.Event(p.SLID,{relatedTarget:o,direction:s,from:r,to:c});d.default.supportsTransitionEnd()&&f(this._element).hasClass(C)?(f(o).addClass(n),d.default.reflow(o),f(l).addClass(i),f(o).addClass(i),f(l).one(d.default.TRANSITION_END,function(){f(o).removeClass("".concat(i," ").concat(n)).addClass(A),f(l).removeClass("".concat(A," ").concat(n," ").concat(i)),a._isSliding=!1,setTimeout(function(){return f(a._element).trigger(h)},0)}).emulateTransitionEnd(600)):(f(l).removeClass(A),f(o).addClass(A),this._isSliding=!1,f(this._element).trigger(h)),u&&this.cycle()}}}])&&o(e.prototype,t),i&&o(e,i),a}(),f(document).on(p.CLICK_DATA_API,x.DATA_SLIDE,O._dataApiClickHandler),f(window).on(p.LOAD_DATA_API,function(){f(x.DATA_RIDE).each(function(){var e=f(this);O._jQueryInterface.call(e,e.data())})}),f.fn[c]=O._jQueryInterface,f.fn[c].Constructor=O,f.fn[c].noConflict=function(){return f.fn[c]=_,O._jQueryInterface},O);e.default=w});