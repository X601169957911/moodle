"use strict";define(["exports","jquery","core/popper","./util"],function(a,b,c,d){function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function g(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){h(a,b,c[b])})}return a}function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var l=e(b),m=e(c),n=e(d),o="dropdown",p="4.3.1",q="bs.dropdown",r=".".concat(q),s=".data-api",t=l["default"].fn[o],u=27,v=32,w=9,x=38,y=40,z=3,A=new RegExp("".concat(x,"|").concat(y,"|").concat(u)),B={HIDE:"hide".concat(r),HIDDEN:"hidden".concat(r),SHOW:"show".concat(r),SHOWN:"shown".concat(r),CLICK:"click".concat(r),CLICK_DATA_API:"click".concat(r).concat(s),KEYDOWN_DATA_API:"keydown".concat(r).concat(s),KEYUP_DATA_API:"keyup".concat(r).concat(s)},C={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},D={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},E={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},F={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},G={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},H=function(){function a(b,c){i(this,a),this._element=b,this._popper=null,this._config=this._getConfig(c),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return k(a,[{key:"toggle",value:function(){if(!this._element.disabled&&!(0,l["default"])(this._element).hasClass(C.DISABLED)){var b=a._getParentFromElement(this._element),c=(0,l["default"])(this._menu).hasClass(C.SHOW);if(a._clearMenus(),!c){var d={relatedTarget:this._element},e=l["default"].Event(B.SHOW,d);if((0,l["default"])(b).trigger(e),!e.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof m["default"])throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var f=this._element;"parent"===this._config.reference?f=b:n["default"].isElement(this._config.reference)&&(f=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(f=this._config.reference[0])),"scrollParent"!==this._config.boundary&&(0,l["default"])(b).addClass(C.POSITION_STATIC),this._popper=new m["default"](f,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===(0,l["default"])(b).closest(D.NAVBAR_NAV).length&&(0,l["default"])(document.body).children().on("mouseover",null,l["default"].noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),(0,l["default"])(this._menu).toggleClass(C.SHOW),(0,l["default"])(b).toggleClass(C.SHOW).trigger(l["default"].Event(B.SHOWN,d))}}}}},{key:"show",value:function(){if(!(this._element.disabled||(0,l["default"])(this._element).hasClass(C.DISABLED)||(0,l["default"])(this._menu).hasClass(C.SHOW))){var b={relatedTarget:this._element},c=l["default"].Event(B.SHOW,b),d=a._getParentFromElement(this._element);(0,l["default"])(d).trigger(c),c.isDefaultPrevented()||((0,l["default"])(this._menu).toggleClass(C.SHOW),(0,l["default"])(d).toggleClass(C.SHOW).trigger(l["default"].Event(B.SHOWN,b)))}}},{key:"hide",value:function(){if(!this._element.disabled&&!(0,l["default"])(this._element).hasClass(C.DISABLED)&&(0,l["default"])(this._menu).hasClass(C.SHOW)){var b={relatedTarget:this._element},c=l["default"].Event(B.HIDE,b),d=a._getParentFromElement(this._element);(0,l["default"])(d).trigger(c),c.isDefaultPrevented()||((0,l["default"])(this._menu).toggleClass(C.SHOW),(0,l["default"])(d).toggleClass(C.SHOW).trigger(l["default"].Event(B.HIDDEN,b)))}}},{key:"dispose",value:function(){l["default"].removeData(this._element,q),(0,l["default"])(this._element).off(r),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}},{key:"_addEventListeners",value:function(){var a=this;(0,l["default"])(this._element).on(B.CLICK,function(b){b.preventDefault(),b.stopPropagation(),a.toggle()})}},{key:"_getConfig",value:function(a){return a=g({},this.constructor.Default,(0,l["default"])(this._element).data(),a),n["default"].typeCheckConfig(o,a,this.constructor.DefaultType),a}},{key:"_getMenuElement",value:function(){if(!this._menu){var b=a._getParentFromElement(this._element);b&&(this._menu=b.querySelector(D.MENU))}return this._menu}},{key:"_getPlacement",value:function(){var a=(0,l["default"])(this._element.parentNode),b=E.BOTTOM;return a.hasClass(C.DROPUP)?(b=E.TOP,(0,l["default"])(this._menu).hasClass(C.MENURIGHT)&&(b=E.TOPEND)):a.hasClass(C.DROPRIGHT)?b=E.RIGHT:a.hasClass(C.DROPLEFT)?b=E.LEFT:(0,l["default"])(this._menu).hasClass(C.MENURIGHT)&&(b=E.BOTTOMEND),b}},{key:"_detectNavbar",value:function(){return(0,l["default"])(this._element).closest(".navbar").length>0}},{key:"_getOffset",value:function(){var a=this,b={};return"function"==typeof this._config.offset?b.fn=function(b){return b.offsets=g({},b.offsets,a._config.offset(b.offsets,a._element)||{}),b}:b.offset=this._config.offset,b}},{key:"_getPopperConfig",value:function(){var a={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(a.modifiers.applyStyle={enabled:!1}),a}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=(0,l["default"])(this).data(q),d="object"===f(b)?b:null;if(c||(c=new a(this,d),(0,l["default"])(this).data(q,c)),"string"==typeof b){if("undefined"==typeof c[b])throw new TypeError('No method named "'.concat(b,'"'));c[b]()}})}},{key:"_clearMenus",value:function(b){if(!b||b.which!==z&&("keyup"!==b.type||b.which===w))for(var c=[].slice.call(document.querySelectorAll(D.DATA_TOGGLE)),d=0,e=c.length;d<e;d++){var f=a._getParentFromElement(c[d]),g=(0,l["default"])(c[d]).data(q),h={relatedTarget:c[d]};if(b&&"click"===b.type&&(h.clickEvent=b),g){var i=g._menu;if((0,l["default"])(f).hasClass(C.SHOW)&&!(b&&("click"===b.type&&/input|textarea/i.test(b.target.tagName)||"keyup"===b.type&&b.which===w)&&l["default"].contains(f,b.target))){var j=l["default"].Event(B.HIDE,h);(0,l["default"])(f).trigger(j),j.isDefaultPrevented()||("ontouchstart"in document.documentElement&&(0,l["default"])(document.body).children().off("mouseover",null,l["default"].noop),c[d].setAttribute("aria-expanded","false"),(0,l["default"])(i).removeClass(C.SHOW),(0,l["default"])(f).removeClass(C.SHOW).trigger(l["default"].Event(B.HIDDEN,h)))}}}}},{key:"_getParentFromElement",value:function(a){var b,c=n["default"].getSelectorFromElement(a);return c&&(b=document.querySelector(c)),b||a.parentNode}},{key:"_dataApiKeydownHandler",value:function(b){if((/input|textarea/i.test(b.target.tagName)?!(b.which===v||b.which!==u&&(b.which!==y&&b.which!==x||(0,l["default"])(b.target).closest(D.MENU).length)):A.test(b.which))&&(b.preventDefault(),b.stopPropagation(),!this.disabled&&!(0,l["default"])(this).hasClass(C.DISABLED))){var c=a._getParentFromElement(this),d=(0,l["default"])(c).hasClass(C.SHOW);if(!d||d&&(b.which===u||b.which===v)){if(b.which===u){var e=c.querySelector(D.DATA_TOGGLE);(0,l["default"])(e).trigger("focus")}return void(0,l["default"])(this).trigger("click")}var f=[].slice.call(c.querySelectorAll(D.VISIBLE_ITEMS));if(0!==f.length){var g=f.indexOf(b.target);b.which===x&&g>0&&g--,b.which===y&&g<f.length-1&&g++,g<0&&(g=0),f[g].focus()}}}},{key:"VERSION",get:function(){return p}},{key:"Default",get:function(){return F}},{key:"DefaultType",get:function(){return G}}]),a}();(0,l["default"])(document).on(B.KEYDOWN_DATA_API,D.DATA_TOGGLE,H._dataApiKeydownHandler).on(B.KEYDOWN_DATA_API,D.MENU,H._dataApiKeydownHandler).on("".concat(B.CLICK_DATA_API," ").concat(B.KEYUP_DATA_API),H._clearMenus).on(B.CLICK_DATA_API,D.DATA_TOGGLE,function(a){a.preventDefault(),a.stopPropagation(),H._jQueryInterface.call((0,l["default"])(this),"toggle")}).on(B.CLICK_DATA_API,D.FORM_CHILD,function(a){a.stopPropagation()}),l["default"].fn[o]=H._jQueryInterface,l["default"].fn[o].Constructor=H,l["default"].fn[o].noConflict=function(){return l["default"].fn[o]=t,H._jQueryInterface},a["default"]=H});