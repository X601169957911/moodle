define(["exports","jquery","./popper","./util"],function(e,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(t),r=s(n),i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h,p,d,_,l,g,m,v,y,w,b,C,A,P,E,D,k,I,N,T,O,K,j,H,S,L,x,M,W,F,Y=(h=a.default,r.default,p="dropdown",_=".".concat(d="bs.dropdown"),l=".data-api",g=h.fn[p],m=new RegExp("".concat(38,"|").concat(40,"|").concat(27)),v={HIDE:"hide".concat(_),HIDDEN:"hidden".concat(_),SHOW:"show".concat(_),SHOWN:"shown".concat(_),CLICK:"click".concat(_),CLICK_DATA_API:"click".concat(_).concat(l),KEYDOWN_DATA_API:"keydown".concat(_).concat(l),KEYUP_DATA_API:"keyup".concat(_).concat(l)},y="disabled",w="show",b="dropup",C="dropright",A="dropleft",P="dropdown-menu-right",E="dropdown-menu-left",D="position-static",k='[data-toggle="dropdown"]',I=".dropdown form",N=".dropdown-menu",T=".navbar-nav",O=".dropdown-menu .dropdown-item:not(.disabled)",K="top-start",j="top-end",H="bottom-start",S="bottom-end",L="right-start",x="left-start",M={offset:0,flip:!0,boundary:"scrollParent"},W={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},F=function(){function l(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e,t,n;return e=l,n=[{key:"_jQueryInterface",value:function(n){return this.each(function(){var e=h(this).data(d),t="object"===u(n)?n:null;if(e||(e=new l(this,t),h(this).data(d,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'.concat(n,'"'));e[n]()}})}},{key:"_clearMenus",value:function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=h.makeArray(h(k)),n=0;n<t.length;n++){var o=l._getParentFromElement(t[n]),a=h(t[n]).data(d),r={relatedTarget:t[n]};if(a){var i=a._menu;if(h(o).hasClass(w)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&h.contains(o,e.target))){var s=h.Event(v.HIDE,r);h(o).trigger(s),s.isDefaultPrevented()||("ontouchstart"in document.documentElement&&h("body").children().off("mouseover",null,h.noop),t[n].setAttribute("aria-expanded","false"),h(i).removeClass(w),h(o).removeClass(w).trigger(h.Event(v.HIDDEN,r)))}}}}},{key:"_getParentFromElement",value:function(e){var t,n=i.default.getSelectorFromElement(e);return n&&(t=h(n)[0]),t||e.parentNode}},{key:"_dataApiKeydownHandler",value:function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||h(e.target).closest(N).length)):m.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!h(this).hasClass(y))){var t=l._getParentFromElement(this),n=h(t).hasClass(w);if((n||27===e.which&&32===e.which)&&(!n||27!==e.which&&32!==e.which)){var o=h(t).find(O).get();if(0!==o.length){var a=o.indexOf(e.target);38===e.which&&0<a&&a--,40===e.which&&a<o.length-1&&a++,a<0&&(a=0),o[a].focus()}}else{if(27===e.which){var r=h(t).find(k)[0];h(r).trigger("focus")}h(this).trigger("click")}}}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return M}},{key:"DefaultType",get:function(){return W}}],(t=[{key:"toggle",value:function(){if(!this._element.disabled&&!h(this._element).hasClass(y)){var e=l._getParentFromElement(this._element),t=h(this._menu).hasClass(w);if(l._clearMenus(),!t){var n={relatedTarget:this._element},o=h.Event(v.SHOW,n);if(h(e).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===r.default)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var a=this._element;h(e).hasClass(b)&&(h(this._menu).hasClass(E)||h(this._menu).hasClass(P))&&(a=e),"scrollParent"!==this._config.boundary&&h(e).addClass(D),this._popper=new r.default(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===h(e).closest(T).length&&h("body").children().on("mouseover",null,h.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),h(this._menu).toggleClass(w),h(e).toggleClass(w).trigger(h.Event(v.SHOWN,n))}}}}},{key:"dispose",value:function(){h.removeData(this._element,d),h(this._element).off(_),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}},{key:"_addEventListeners",value:function(){var t=this;h(this._element).on(v.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})}},{key:"_getConfig",value:function(e){return e=c({},this.constructor.Default,h(this._element).data(),e),i.default.typeCheckConfig(p,e,this.constructor.DefaultType),e}},{key:"_getMenuElement",value:function(){if(!this._menu){var e=l._getParentFromElement(this._element);this._menu=h(e).find(N)[0]}return this._menu}},{key:"_getPlacement",value:function(){var e=h(this._element).parent(),t=H;return e.hasClass(b)?(t=K,h(this._menu).hasClass(P)&&(t=j)):e.hasClass(C)?t=L:e.hasClass(A)?t=x:h(this._menu).hasClass(P)&&(t=S),t}},{key:"_detectNavbar",value:function(){return 0<h(this._element).closest(".navbar").length}},{key:"_getPopperConfig",value:function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=c({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}}}])&&f(e.prototype,t),n&&f(e,n),l}(),h(document).on(v.KEYDOWN_DATA_API,k,F._dataApiKeydownHandler).on(v.KEYDOWN_DATA_API,N,F._dataApiKeydownHandler).on("".concat(v.CLICK_DATA_API," ").concat(v.KEYUP_DATA_API),F._clearMenus).on(v.CLICK_DATA_API,k,function(e){e.preventDefault(),e.stopPropagation(),F._jQueryInterface.call(h(this),"toggle")}).on(v.CLICK_DATA_API,I,function(e){e.stopPropagation()}),h.fn[p]=F._jQueryInterface,h.fn[p].Constructor=F,h.fn[p].noConflict=function(){return h.fn[p]=g,F._jQueryInterface},F);e.default=Y});