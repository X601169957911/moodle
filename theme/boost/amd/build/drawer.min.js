define ("theme_boost/drawer",["exports","core/utils","core/modal_backdrop","core/templates","core/notification"],function(a,b,c,d,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.region=void 0;c=f(c);d=f(d);e=f(e);function f(a){return a&&a.__esModule?a:{default:a}}var g=null,h={medium:991,large:1200},i=document.getElementById("page-wrapper"),j=document.getElementById("page"),k=function(){if(!g){g=d.default.render("core/modal_backdrop",{}).then(function(a){return new c.default(a)}).fail(e.default.exception)}return g},l=function(a,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0,e=c.getAttribute("data-preference"),f=c.getAttribute("data-state");(0,b.classUtil)("remove",a,"show");if(f){(0,b.classUtil)("remove",j,f)}if(!n()&&e){M.util.set_user_preference(e,"false")}if(n()&&d){k().then(function(a){a.hide();i.style.overflow="auto"})}},m=function(a,c){var d=c.getAttribute("data-preference"),e=c.getAttribute("data-state");(0,b.classUtil)("add",a,"show");if(!n()&&d){M.util.set_user_preference(d,"true")}if(e){(0,b.classUtil)("add",j,e)}if(n()){k().then(function(b){b.setZIndex(1020);b.show();i.style.overflow="hidden";b.getRoot()[0].addEventListener("click",function(){l(a)})})}var f=a.getAttribute("data-trigger");if(f){a.dispatchEvent(new CustomEvent("show-boost-drawer",{bubbles:!0,detail:f}))}},n=function(){return document.body.clientWidth<=h.medium},o=function(){return document.body.clientWidth<=h.large};a.region=function region(a,c){var d=document.querySelector(a),e=document.querySelector(c);if(!d){return""}var f=d.querySelector("[data-action=\"closedrawer\"]");e.addEventListener("click",function(){if((0,b.classUtil)("has",d,"show")){l(d,e)}else{m(d,e)}});if(f){f.addEventListener("click",function(){l(d,e)})}if(e.getAttribute("data-closeonresize")){window.addEventListener("resize",function(){l(d,e)})}document.addEventListener("show-boost-drawer",function(a){var b=d.getAttribute("data-trigger");if(b!=a.detail&&o()){l(d,e,!1)}})}});
//# sourceMappingURL=drawer.min.js.map
