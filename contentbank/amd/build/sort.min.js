define ("core_contentbank/sort",["exports","core_contentbank/selectors","core/str"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var d=function(){var a=document.querySelector(b.default.regions.contentbank);e(a)};a.init=d;var e=function(a){var c=document.querySelector(b.default.regions.filearea),d=c.querySelectorAll(b.default.elements.listitem),e=a.querySelector(b.default.actions.viewgrid),h=a.querySelector(b.default.actions.viewlist);e.addEventListener("click",function(){a.classList.remove("view-list");a.classList.add("view-grid");e.classList.add("active");h.classList.remove("active")});h.addEventListener("click",function(){a.classList.remove("view-grid");a.classList.add("view-list");h.classList.add("active");e.classList.remove("active")});var i=a.querySelector(b.default.actions.sortname);i.addEventListener("click",function(){var b=f(a,i);g(c,d,"data-file",b)});var j=a.querySelector(b.default.actions.sortdate);j.addEventListener("click",function(){var b=f(a,j);g(c,d,"data-timemodified",b)});var k=a.querySelector(b.default.actions.sortsize);k.addEventListener("click",function(){var b=f(a,k);g(c,d,"data-bytes",b)});var l=a.querySelector(b.default.actions.sorttype);l.addEventListener("click",function(){var b=f(a,l);g(c,d,"data-bytes",b)})},f=function(a,d){var e=a.querySelectorAll(b.default.elements.sortbutton);e.forEach(function(a){if(a!==d){a.classList.remove("dir-asc");a.classList.remove("dir-desc");var b=a.getAttribute("data-string");(0,c.get_string)(b,"contentbank").then(function(b){(0,c.get_string)("sortbyx","core",b.toLowerCase()).then(function(b){a.setAttribute("title",b)})})}});var f=!0;if(d.classList.contains("dir-none")){d.classList.remove("dir-none");d.classList.add("dir-asc")}else if(d.classList.contains("dir-asc")){d.classList.remove("dir-asc");d.classList.add("dir-desc");f=!1}else if(d.classList.contains("dir-desc")){d.classList.remove("dir-desc");d.classList.add("dir-asc");f=!0}var g=d.getAttribute("data-string");if(f){(0,c.get_string)(g,"contentbank").then(function(a){(0,c.get_string)("sortbyxreverse","core",a.toLowerCase()).then(function(a){d.setAttribute("title",a)})})}else{(0,c.get_string)(g,"contentbank").then(function(a){(0,c.get_string)("sortbyx","core",a.toLowerCase()).then(function(a){d.setAttribute("title",a)})})}return f},g=function(a,b,c,d){var e=[].slice.call(b).sort(function(e,a){var b="",f="";if(isNaN(e.getAttribute(c))){b=e.getAttribute(c)}else{b=parseInt(e.getAttribute(c))}if(isNaN(a.getAttribute(c))){f=a.getAttribute(c)}else{f=parseInt(a.getAttribute(c))}if(d){return b>f?1:-1}else{return b<f?1:-1}});e.forEach(function(b){a.appendChild(b)})}});
//# sourceMappingURL=sort.min.js.map
